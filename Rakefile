# Add your own tasks in files placed in lib/tasks ending in .rake,
# for example lib/tasks/capistrano.rake, and they will automatically be available to Rake.

require_relative "config/application"

Rails.application.load_tasks


namespace :custom_task do
  desc "Subscribe to NATS"
  task test_gold: :environment do
    data = '{"Prices":[55141775,54910868,55249276,55529329,55501814,54918986,54510585,54303501,54431531,54502919,54350098,53986605,53980751,53702302,53768533,54230142,54654308,54931631,55288337,54625111,53896049,53474516,53587621,54613950,54894730],"Timestamps":[638462880000000000,638462844000000000,638462808000000000,638462772000000000,638462736000000000,638462700000000000,638462664000000000,638462628000000000,638462592000000000,638462556000000000,638462520000000000,638462484000000000,638462448000000000,638462412000000000,638462376000000000,638462340000000000,638462304000000000,638462268000000000,638462232000000000,638462196000000000,638462160000000000,638462124000000000,638462088000000000,638462052000000000,638462016000000000]}'
    IncomingNatsGoldWorker.perform_async(data)
  end
end
